(()=>{"use strict";class f{constructor(e,s){this.maxSolutions=e,this.latestTime=s,this.solutions=new Array,this.ranOutOfTime=!1,this.maxSolutionsFound=!1,this.dfs=0}getDFS(){return this.dfs}getRanOutOfTime(){return this.ranOutOfTime}getMaxSolutionsFound(){return this.maxSolutionsFound}getSolutions(){return this.solutions}setMaxSolutionsFound(e){this.maxSolutionsFound=e}increaseDFS(){this.dfs++}decreaseDFS(){this.dfs--}addToSolutions(e,s){const t=s.getEmptySolution().map(function(l){return l.slice()}),o=[...s.getLayersStart()];o.pop(),e.forEach((l,r)=>{const a=[...l],w=s.getShapeID(a.pop());a.forEach((h,i)=>{const k=o.filter(n=>h-n>=0);t[k.length-1][h-k[k.length-1]]=w})}),this.solutions.push([...t])}addToTempSolution(e,s){const t=new Array;var o=s;do{t.push(o.getColumnID()),o=o.getRight()}while(o!=s);return e.push(t.sort(function(l,r){return l-r})),[...e]}checkMaxSolutions(){return 0!=this.maxSolutions&&this.solutions.length>=this.maxSolutions&&(this.maxSolutionsFound=!0),this.maxSolutionsFound}checkTime(){return 0!=this.latestTime&&this.latestTime<(new Date).getTime()&&(this.ranOutOfTime=!0),this.ranOutOfTime}}class d{constructor(e,s){this.boardLength=e,console.log("boardLength-aggggggggg",this.boardLength),this.layers=s,console.log("layers",this.layers),this.layersStart=this.createLayerStarts(this.layers+1),console.log("layersStart",this.layersStart),this.emptySolution=this.createEmptySolution(),console.log("emptySolutionArray",this.emptySolution)}getBoardLength(){return this.boardLength}getLayers(){return this.layers}getLayersStart(){return this.layersStart}getShapeID(e){return e+1-this.boardLength}getBoard(){return this.board}getFullBoard(){return this.fullBoard}getEmptySolution(){return this.emptySolution}setBoard(e){this.board=e,this.fullBoard=e}createLayerStarts(e){const s=new Array;for(let t=0;t<e;t++)s.push(t==this.layers?this.boardLength:t>0?s[t-1]+(e-t)*(e-t):t);return s}createEmptySolution(){var e=new Array,s=[...this.getLayersStart()];s.pop();for(let t=0;t<s.length;t++)console.log(t,(s.length-t)**2,s.length-t),e.push(new Array((s.length-t)**2));return e}prePlace(e){var s=[...e.flat(3)],t=new Set(s);t.delete(0);var o=Array.from(t),l=new Array,r=new f(0,0);return o.forEach(a=>{var w=new Array;s.forEach((n,C)=>{n===a&&w.push(C)});var h=this.board[0][a];this.cover(h);for(var i=h.getBottom();i!=h;){i=i.getRight();for(var k=!0;i.getColumn()!==h;)this.cover(i.getColumn()),-1===w.indexOf(i.getColumnID())&&(k=!1),i=i.getRight();k&&(l=[...r.addToTempSolution([...l],i)]),i=i.getBottom()}}),l}solve(e=new Array,s=0,t=0){return console.log(e,"prePlace"),0!==e.length&&this.prePlace(e),u(this,new f(0!=s?s:0,0!=t?(new Date).getTime()+t:0),new Array)}reset(){this.board=this.fullBoard}cover(e){e.getLeft().setRight(e.getRight()),e.getRight().setLeft(e.getLeft()),e.setActivated(!1);let s=e.getBottom();for(;s!==e;){for(s=s.getRight();s.getColumn()!==e;)s.getTop().setBottom(s.getBottom()),s.getBottom().setTop(s.getTop()),s.getColumn().setNodeCount(s.getColumn().getNodeCount()-1),s=s.getRight();s=s.getBottom()}}uncover(e){e.getLeft().setRight(e),e.getRight().setLeft(e),e.setActivated(!0);let s=e.getTop();for(;s!==e;){for(s=s.getLeft();s.getColumn()!==e;)s.getTop().setBottom(s),s.getBottom().setTop(s),s.getColumn().setNodeCount(s.getColumn().getNodeCount()+1),s=s.getLeft();s=s.getTop()}}getMinColumn(e){var s=e,t=e.getRight();do{t.getNodeCount()<s.getNodeCount()&&t.getActivated()&&(s=t),t=t.getRight()}while(t!=e);return s}}function u(c,e,s){if(e.checkTime())console.error("ranOutOfTime");else if(63==e.getDFS()||e.getMaxSolutionsFound())console.error("stop crash"),e.setMaxSolutionsFound(!0);else if(e.checkMaxSolutions())console.error("maxSolutions Found");else{const l=c.getBoard()[0].find(r=>r.getActivated());if(void 0===l)console.warn("push to temp","DFS",e.getDFS(),e,s),e.addToSolutions([...s],c);else{const r=c.getMinColumn(l);if(0!==r.getNodeCount()){c.cover(r);for(var t=r.getBottom();t!=r;){for(t=t.getRight();t.getColumn()!==r;)c.cover(t.getColumn()),t=t.getRight();for(s=[...e.addToTempSolution([...s],t)],e.increaseDFS(),(e=u(c,e,[...s])).decreaseDFS(),s.pop(),t=t.getLeft();t.getColumn()!==r;)c.uncover(t.getColumn()),t=t.getLeft();if(t=t.getBottom(),e.checkMaxSolutions()){console.error("Max Solutions Found");break}}c.uncover(r)}}}return e}class g{constructor(e,s){this.rowID=e,this.columnID=s}setLeft(e){this.left=e}setRight(e){this.right=e}setTop(e){this.top=e}setBottom(e){this.bottom=e}setColumn(e){this.column=e}getLeft(){return this.left}getRight(){return this.right}getTop(){return this.top}getBottom(){return this.bottom}getColumn(){return this.column}getColumnID(){return this.columnID}getRowID(){return this.rowID}}class v extends g{constructor(e,s,t){super(s,t),this.activated=e,this.nodeCount=0}setNodeCount(e){this.nodeCount=e}setActivated(e){this.activated=e}getNodeCount(){return this.nodeCount}getActivated(){return this.activated}}class p{constructor(e,s,t,o){this.id=e,this.arrayID=o+(this.id-1),this.coords=s,this.verticals=t}getID(){return this.id}getArrayID(){return this.arrayID}getCoords(){return this.coords}getVerticals(){return this.verticals}}class y{constructor(e,s,t){this.left2right=[4,9,14,19,24,28,32,36,40,43,46,49,51,53,54],this.right2left=[0,5,10,15,20,25,29,33,37,41,44,47,50,52,54],this.left2left=[20,21,22,23,24,37,38,39,40,47,48,49,52,53,54],this.right2right=[0,1,2,3,4,25,26,27,28,41,42,43,50,51,54],this.boardLength=s,console.log("boardLength-aggggggggg",this.boardLength),this.layers=e,console.log("layers",this.layers),this.layersStart=t,this.shapes=this.createShapes(),this.numOfIDColumns=this.shapes.length,console.log("numOfIDCols",this.numOfIDColumns)}createShapes(){var e=[];return e.push(new p(1,[[5,1,7,0,2],[10,0,6,11,1],[10,0,5,11,1],[5,0,6,7,2]],[[6,25,41,45,50],[8,28,43,45,51],[18,40,49,45,53],[16,37,47,45,52],[6,25,30,45,50],[51,45,8,31,28],[53,45,18,40,35],[52,45,37,34,16]],this.boardLength)),e.push(new p(2,[[5,2,6,7,3],[16,0,5,10,11],[5,1,2,6,3],[16,0,5,11,6]],[[0,25,41,30,45],[4,28,43,45,31],[24,40,49,45,35],[20,37,47,34,45],[0,6,25,30,45],[4,8,31,28,45],[24,18,35,45,40],[20,16,37,34,45]],this.boardLength)),e.push(new p(3,[[11,1,5,6,12],[10,1,5,6,7],[11,0,1,6,7],[11,5,6,7,2],[10,1,6,11,7],[11,0,5,6,7],[11,1,5,6,2],[12,1,5,6,7]],[[6,12,30,41,35],[8,12,31,34,43],[18,12,35,30,49],[16,12,34,31,47],[6,30,45,35,41],[8,31,45,34,43],[18,35,45,30,49],[16,34,45,31,47],[12,30,45,53,50],[12,31,45,51,52],[12,35,45,50,53],[12,34,45,52,51]],this.boardLength)),e.push(new p(4,[[5,1,6,7],[10,0,5,6],[6,0,1,2],[11,5,6,1]],[[0,6,25,41],[4,8,28,43],[24,18,40,49],[20,16,37,47],[6,30,45,41],[8,31,45,43],[18,35,45,49],[16,34,45,47]],this.boardLength)),e.push(new p(5,[[5,1,6,7,8],[15,0,5,10,6],[7,0,1,2,3],[16,6,10,11,1],[5,2,6,7,8],[15,0,5,10,11],[6,0,1,2,3],[16,5,6,11,1]],[[0,6,25,41,50],[4,8,28,43,51],[24,18,40,49,53],[20,16,37,47,52],[6,30,45,53,41],[8,31,45,52,43],[18,35,45,50,49],[16,34,45,51,47]],this.boardLength)),e.push(new p(6,[[5,1,6,7,2],[10,0,5,11,6],[5,0,1,6,2],[11,0,5,6,1],[5,0,1,6,7],[10,0,5,6,1],[6,0,1,7,2],[10,5,6,11,1]],[[0,6,25,41,30],[4,8,28,43,31],[24,18,40,49,35],[20,16,37,47,34],[6,30,45,41,50],[8,31,45,43,51],[18,35,45,49,53],[16,34,45,47,52]],this.boardLength)),e.push(new p(7,[[5,1,6,2],[11,0,5,6],[6,0,1,7],[10,6,5,1]],[[0,6,25,30],[4,8,28,31],[24,18,40,35],[20,16,37,34]],this.boardLength)),e.push(new p(8,[[10,0,5,1],[7,0,1,2],[10,6,11,1],[5,0,6,7],[10,0,5,11],[11,0,6,1],[5,6,7,2],[5,0,1,2]],[[0,25,41,30],[4,28,43,31],[24,40,49,35],[20,37,47,34],[6,25,41,50],[8,28,43,51],[18,40,49,53],[16,37,47,52],[6,25,30,45],[8,28,31,45],[18,40,35,45],[16,37,34,45],[6,50,30,45],[8,51,31,45],[18,53,35,45],[16,52,34,45]],this.boardLength)),e.push(new p(9,[[12,0,1,7,2],[10,7,11,12,2],[10,0,5,11,12],[10,0,1,5,2]],[[0,25,41,30,12],[4,28,43,31,12],[24,40,49,35,12],[20,37,47,34,12],[12,30,41,35,49],[12,31,43,16,47],[12,30,41,35,49],[12,31,43,16,47]],this.boardLength)),e.push(new p(10,[[5,0,6,7,8],[15,0,5,10,1],[8,0,1,2,3],[15,6,11,16,1],[5,0,1,2,3],[16,0,6,11,1],[5,6,7,8,3],[15,0,5,10,16]],[[0,25,41,50,45],[4,28,43,51,45],[24,40,49,53,45],[20,37,47,52,45],[6,25,41,50,54],[8,28,43,51,54],[18,40,49,53,54],[16,37,47,52,54],[54,53,45,30,6],[54,52,45,31,8],[54,50,45,35,18],[54,51,45,34,16]],this.boardLength)),e.push(new p(11,[[5,0,6],[5,0,1],[6,0,1],[5,6,1]],[[0,25,6],[4,28,8],[24,40,18],[20,37,16]],this.boardLength)),e.push(new p(12,[[7,0,1,6,12],[10,6,7,11,2],[11,0,5,6,12],[10,1,5,6,2]],[[0,6,12,25,30],[4,8,12,31,28],[24,18,12,40,35],[20,16,12,37,34],[6,12,25,30,35],[8,12,28,31,34],[18,12,40,35,30],[16,12,37,34,31]],this.boardLength)),e}buildBoard(){var e=new Array;const s=new Array;for(let t=0;t<this.boardLength+this.numOfIDColumns;t++){const o=new v(!0,0,t);o.setColumn(s[t]),0==t?(o.setLeft(o),o.setRight(o)):(o.setLeft(s[t-1]),o.setRight(s[0]),s[t-1].setRight(o),s[0].setLeft(o)),o.setTop(o),o.setBottom(o),s[t]=o}return e.push([...s]),this.row=1,this.shapes.forEach(t=>{for(var o=!1,l=0,r=0,a=this.layers,w=0;!o;)if(r+Math.max(...t.getCoords()[l])<this.boardLength)if(t.getCoords()[l][t.getCoords()[l].length-1]<this.layersStart[this.layersStart.length-a+1])if(t.getCoords()[l][0]<this.layersStart[this.layersStart.length-a]+(a*w+1)){const h=new Array(this.boardLength+this.numOfIDColumns);t.getCoords()[l].forEach((i,k,n)=>{h[r+i]=new g(this.row,r+i),h[r+i].setColumn(e[0][r+i]),e[0][r+i].setNodeCount(e[0][r+i].getNodeCount()+1),0==k?(h[r+i].setLeft(h[r+i]),h[r+i].setRight(h[r+i])):(h[r+i].setLeft(h[r+n[k-1]]),h[r+i].setRight(h[r+n[0]]),h[r+n[k-1]].setRight(h[r+i]),h[r+n[0]].setLeft(h[r+i])),h[r+i].setTop(e[0][r+i].getTop()),e[0][r+i].getTop().setBottom(h[r+i]),e[0][r+i].setTop(h[r+i]),h[r+i].setBottom(e[0][r+i])}),h[t.getArrayID()]=new g(this.row,t.getArrayID()),h[t.getArrayID()].setColumn(e[0][t.getArrayID()]),e[0][t.getArrayID()].setNodeCount(e[0][t.getArrayID()].getNodeCount()+1),h[t.getArrayID()].setLeft(h[r+t.getCoords()[l][t.getCoords()[l].length-1]]),h[t.getArrayID()].setRight(h[r+t.getCoords()[l][0]]),h[r+t.getCoords()[l][t.getCoords()[l].length-1]].setRight(h[t.getArrayID()]),h[r+t.getCoords()[l][0]].setLeft(h[t.getArrayID()]),h[t.getArrayID()].setTop(e[0][t.getArrayID()].getTop()),e[0][t.getArrayID()].getTop().setBottom(h[t.getArrayID()]),e[0][t.getArrayID()].setTop(h[t.getArrayID()]),h[t.getArrayID()].setBottom(e[0][t.getArrayID()]),e.push([...h]),r++,this.row++}else w++,r=this.layersStart[this.layersStart.length-a]+a*w;else r=this.layersStart[this.layersStart.length-(a-=1)],w=0;else a=this.layers,w=0,r=0,++l>t.getCoords().length-1&&(o=!0);this.startCorner=1,t.getVerticals().forEach(h=>{console.log("before set",t.getArrayID()),this.workplace=[...h],this.levelupPlace=[...h],this.startPlace=[...h],1==this.startCorner?(e=this.left2rightFunc(e,t.getArrayID()),e=this.goingDownFunc(e,t.getArrayID())):2==this.startCorner?(e=this.right2leftFunc(e,t.getArrayID()),e=this.goingDownFunc(e,t.getArrayID())):3==this.startCorner?(e=this.right2leftFunc(e,t.getArrayID()),e=this.goingUpFunc(e,t.getArrayID())):4==this.startCorner&&(e=this.left2rightFunc(e,t.getArrayID()),e=this.goingUpFunc(e,t.getArrayID()))})}),e}setBoardRow(e,s,t){const o=new Array(this.boardLength+this.numOfIDColumns);return console.log("current workplace",t,"shapeID - 55 means shape 1",s),t.forEach((l,r,a)=>{o[l]=new g(this.row,l),o[l].setColumn(e[0][l]),e[0][l].setNodeCount(e[0][l].getNodeCount()+1),0==r?(o[l].setLeft(o[l]),o[l].setRight(o[l])):(o[l].setLeft(o[a[r-1]]),o[l].setRight(o[a[0]]),o[a[r-1]].setRight(o[l]),o[a[0]].setLeft(o[l])),o[l].setTop(e[0][l].getTop()),e[0][l].getTop().setBottom(o[l]),e[0][l].setTop(o[l]),o[l].setBottom(e[0][l])}),o[s]=new g(this.row,s),o[s].setColumn(e[0][s]),e[0][s].setNodeCount(e[0][s].getNodeCount()+1),o[s].setLeft(o[t[t.length-1]]),o[s].setRight(o[t[0]]),o[t[t.length-1]].setRight(o[s]),o[t[0]].setLeft(o[s]),o[s].setTop(e[0][s].getTop()),e[0][s].getTop().setBottom(o[s]),e[0][s].setTop(o[s]),o[s].setBottom(e[0][s]),e.push([...o]),console.log("matrix",e,"current Row",this.row),e}left2rightFunc(e,s){for(;0==this.workplace.filter(t=>!this.left2right.includes(t)).length;)this.workplace.filter(t=>t<55)&&(e=this.setBoardRow(e,s,this.workplace)),this.row++,this.workplace=this.workplace.map(t=>t+1);return this.workplace=this.startPlace,e}right2leftFunc(e,s){for(;0==this.workplace.filter(t=>!this.right2left.includes(t)).length;)this.workplace.filter(t=>t<55)&&(e=this.setBoardRow(e,s,this.workplace)),this.row++,this.workplace=this.workplace.map(t=>t-1);return this.workplace=this.startPlace,e}goingDownFunc(e,s){for(;0==this.workplace.filter(o=>!this.left2left.includes(o)).length;){this.workplace.filter(o=>o<55)&&(e=this.setBoardRow(e,s,this.workplace)),this.row++;for(var t=0;t<this.workplace.length;t++)this.workplace[t]<=24?this.workplace[t]=this.workplace[t]+5:this.workplace[t]<=40?this.workplace[t]=this.workplace[t]+4:this.workplace[t]<=49?this.workplace[t]=this.workplace[t]+3:this.workplace[t]<=53?this.workplace[t]=this.workplace[t]+2:this.workplace[t]<=54&&(this.workplace[t]=this.workplace[t]+1)}return this.workplace=this.startPlace,1==this.startCorner?e=this.goingInsc1Func(e,s):2==this.startCorner&&(e=this.goingInsc2Func(e,s)),e}goingUpFunc(e,s){for(;0==this.workplace.filter(o=>!this.right2right.includes(o)).length;){this.workplace.filter(o=>o<55)&&(e=this.setBoardRow(e,s,this.workplace)),this.row++;for(var t=0;t<this.workplace.length;t++)this.workplace[t]<=24?this.workplace[t]=this.workplace[t]-5:this.workplace[t]<=40?this.workplace[t]=this.workplace[t]-4:this.workplace[t]<=49?this.workplace[t]=this.workplace[t]-3:this.workplace[t]<=53?this.workplace[t]=this.workplace[t]-2:this.workplace[t]<=54&&(this.workplace[t]=this.workplace[t]-1)}return this.workplace=this.startPlace,3==this.startCorner?e=this.goingInsc3Func(e,s):4==this.startCorner&&(e=this.goingInsc4Func(e,s)),e}goingInsc1Func(e,s){if(this.workplace.filter(o=>!this.left2left.includes(o))&&0==this.workplace.filter(o=>!this.left2right.includes(o)).length){for(var t=0;t<this.workplace.length;t++)this.workplace[t]<=24?this.workplace[t]=this.workplace[t]+6:this.workplace[t]<=40?this.workplace[t]=this.workplace[t]+5:this.workplace[t]<=49?this.workplace[t]=this.workplace[t]+4:this.workplace[t]<=53?this.workplace[t]=this.workplace[t]+3:this.workplace[t]<=54&&(this.workplace[t]=this.workplace[t]+2);this.startPlace=this.workplace,e=this.left2rightFunc(e,s),e=this.goingDownFunc(e,s)}else e=this.nextlevelSc1Func(e,s);return e}goingInsc2Func(e,s){if(this.workplace.filter(o=>!this.left2left.includes(o))&&0==this.workplace.filter(o=>!this.right2left.includes(o)).length){for(var t=0;t<this.workplace.length;t++)this.workplace[t]<=24?this.workplace[t]=this.workplace[t]+4:this.workplace[t]<=40?this.workplace[t]=this.workplace[t]+3:this.workplace[t]<=49?this.workplace[t]=this.workplace[t]+2:this.workplace[t]<=53?this.workplace[t]=this.workplace[t]+1:this.workplace[t]<=54&&(this.workplace[t]=this.workplace[t]+0);this.startPlace=this.workplace,e=this.right2leftFunc(e,s),e=this.goingDownFunc(e,s)}else e=this.nextlevelSc2Func(e,s);return e}goingInsc3Func(e,s){if(this.workplace.filter(o=>!this.right2right.includes(o))&&0==this.workplace.filter(o=>!this.right2left.includes(o)).length){for(var t=0;t<this.workplace.length;t++)this.workplace[t]<=24?this.workplace[t]=this.workplace[t]-6:this.workplace[t]<=40?this.workplace[t]=this.workplace[t]-5:this.workplace[t]<=49?this.workplace[t]=this.workplace[t]-4:this.workplace[t]<=53?this.workplace[t]=this.workplace[t]-3:this.workplace[t]<=54&&(this.workplace[t]=this.workplace[t]-2);this.startPlace=this.workplace,e=this.right2leftFunc(e,s),e=this.goingUpFunc(e,s)}else e=this.nextlevelSc3Func(e,s);return e}goingInsc4Func(e,s){if(this.workplace.filter(o=>!this.right2right.includes(o))&&0==this.workplace.filter(o=>!this.left2right.includes(o)).length){for(var t=0;t<this.workplace.length;t++)this.workplace[t]<=24?this.workplace[t]=this.workplace[t]-4:this.workplace[t]<=40?this.workplace[t]=this.workplace[t]-3:this.workplace[t]<=49?this.workplace[t]=this.workplace[t]-2:(this.workplace[t]<=53||this.workplace[t]<=54)&&(this.workplace[t]=this.workplace[t]-1);this.startPlace=this.workplace,e=this.left2rightFunc(e,s),e=this.goingUpFunc(e,s)}else e=this.nextlevelSc4Func(e,s);return e}nextlevelSc1Func(e,s){if(this.workplace=this.levelupPlace,this.workplace.filter(o=>!this.left2left.includes(o))&&0==this.workplace.filter(o=>!this.left2right.includes(o)).length){for(var t=0;t<this.workplace.length;t++)this.workplace[t]<24?this.workplace[t]<=4?this.workplace[t]=this.workplace[t]+25:this.workplace[t]<=9?this.workplace[t]=this.workplace[t]+24:this.workplace[t]<=14?this.workplace[t]=this.workplace[t]+23:this.workplace[t]<=19?this.workplace[t]=this.workplace[t]+22:this.workplace[t]<=24&&(this.workplace[t]=this.workplace[t]+21):this.workplace[t]<40&&this.workplace[t]>24?this.workplace[t]<28?this.workplace[t]=this.workplace[t]+16:this.workplace[t]<=32?this.workplace[t]=this.workplace[t]+15:this.workplace[t]<=36?this.workplace[t]=this.workplace[t]+14:this.workplace[t]<=40&&(this.workplace[t]=this.workplace[t]+13):this.workplace[t]<49&&this.workplace[t]>40?this.workplace[t]<=43?this.workplace[t]=this.workplace[t]+9:this.workplace[t]<=46?this.workplace[t]=this.workplace[t]+8:this.workplace[t]<=49&&(this.workplace[t]=this.workplace[t]+7):this.workplace[t]<53&&this.workplace[t]>49?this.workplace[t]<=51?this.workplace[t]=this.workplace[t]+4:this.workplace[t]<=53&&(this.workplace[t]=this.workplace[t]+3):this.workplace[t]<=54&&(this.workplace[t]=this.workplace[t]+1);this.startPlace=this.workplace,this.levelupPlace=this.workplace,this.workplace.filter(o=>!this.left2left.includes(o))&&0==this.workplace.filter(o=>!this.left2right.includes(o)).length&&(e=this.left2rightFunc(e,s),e=this.goingDownFunc(e,s))}else this.startCorner=2;return e}nextlevelSc2Func(e,s){if(this.workplace=this.levelupPlace,this.workplace.filter(o=>!this.left2left.includes(o))&&0==this.workplace.filter(o=>!this.right2left.includes(o)).length){for(var t=0;t<this.workplace.length;t++)this.workplace[t]<24?this.workplace[t]<4?this.workplace[t]=this.workplace[t]+24:this.workplace[t]<9?this.workplace[t]=this.workplace[t]+23:this.workplace[t]<14?this.workplace[t]=this.workplace[t]+22:this.workplace[t]<19?this.workplace[t]=this.workplace[t]+21:this.workplace[t]<24&&(this.workplace[t]=this.workplace[t]+20):this.workplace[t]<40&&this.workplace[t]>24?this.workplace[t]<28?this.workplace[t]=this.workplace[t]+15:this.workplace[t]<32?this.workplace[t]=this.workplace[t]+14:this.workplace[t]<36?this.workplace[t]=this.workplace[t]+13:this.workplace[t]<40&&(this.workplace[t]=this.workplace[t]+12):this.workplace[t]<49&&this.workplace[t]>40?this.workplace[t]<43?this.workplace[t]=this.workplace[t]+8:this.workplace[t]<46?this.workplace[t]=this.workplace[t]+7:this.workplace[t]<49&&(this.workplace[t]=this.workplace[t]+6):this.workplace[t]<53&&this.workplace[t]>49?this.workplace[t]<51?this.workplace[t]=this.workplace[t]+3:this.workplace[t]<53&&(this.workplace[t]=this.workplace[t]+2):this.workplace[t]<54&&(this.workplace[t]=this.workplace[t]+1);this.startPlace=this.workplace,this.levelupPlace=this.workplace,this.workplace.filter(o=>!this.left2left.includes(o))&&0==this.workplace.filter(o=>!this.right2left.includes(o)).length?(e=this.right2leftFunc(e,s),e=this.goingDownFunc(e,s)):this.startCorner=3}return e}nextlevelSc3Func(e,s){if(this.workplace=this.levelupPlace,this.workplace.filter(o=>!this.right2right.includes(o))&&0==this.workplace.filter(o=>!this.right2left.includes(o)).length){for(var t=0;t<this.workplace.length;t++)this.workplace[t]<=24?this.workplace[t]<4?this.workplace[t]=this.workplace[t]+20:this.workplace[t]<=9?this.workplace[t]=this.workplace[t]+19:this.workplace[t]<=14?this.workplace[t]=this.workplace[t]+18:this.workplace[t]<=19?this.workplace[t]=this.workplace[t]+17:this.workplace[t]<=24&&(this.workplace[t]=this.workplace[t]+16):this.workplace[t]<=40&&this.workplace[t]>24?this.workplace[t]<28?this.workplace[t]=this.workplace[t]+12:this.workplace[t]<=32?this.workplace[t]=this.workplace[t]+11:this.workplace[t]<=36?this.workplace[t]=this.workplace[t]+10:this.workplace[t]<=40&&(this.workplace[t]=this.workplace[t]+9):this.workplace[t]<=49&&this.workplace[t]>40?this.workplace[t]<=43?this.workplace[t]=this.workplace[t]+8:this.workplace[t]<=46?this.workplace[t]=this.workplace[t]+7:this.workplace[t]<=49&&(this.workplace[t]=this.workplace[t]+6):this.workplace[t]<=53&&this.workplace[t]>49?this.workplace[t]<51?this.workplace[t]=this.workplace[t]+2:this.workplace[t]<=53&&(this.workplace[t]=this.workplace[t]+1):this.workplace[t]<=54&&(this.workplace[t]=this.workplace[t]+1);this.startPlace=this.workplace,this.levelupPlace=this.workplace,this.workplace.filter(o=>!this.right2right.includes(o))&&0==this.workplace.filter(o=>!this.right2left.includes(o)).length?(e=this.right2leftFunc(e,s),e=this.goingUpFunc(e,s)):this.startCorner=4}return e}nextlevelSc4Func(e,s){if(this.workplace=this.levelupPlace,this.workplace.filter(o=>!this.right2right.includes(o))&&0==this.workplace.filter(o=>!this.left2right.includes(o)).length){for(var t=0;t<this.workplace.length;t++)this.workplace[t]<=24?this.workplace[t]<4?this.workplace[t]=this.workplace[t]+20:this.workplace[t]<=9?this.workplace[t]=this.workplace[t]+19:this.workplace[t]<=14||this.workplace[t]<=19?this.workplace[t]=this.workplace[t]+18:this.workplace[t]<=24&&(this.workplace[t]=this.workplace[t]+17):this.workplace[t]<=40&&this.workplace[t]>24?this.workplace[t]<28?this.workplace[t]=this.workplace[t]+13:this.workplace[t]<=32?this.workplace[t]=this.workplace[t]+12:this.workplace[t]<=36?this.workplace[t]=this.workplace[t]+11:this.workplace[t]<=40&&(this.workplace[t]=this.workplace[t]+10):this.workplace[t]<=49&&this.workplace[t]>40?this.workplace[t]<=43?this.workplace[t]=this.workplace[t]+7:this.workplace[t]<=46?this.workplace[t]=this.workplace[t]+6:this.workplace[t]<=49&&(this.workplace[t]=this.workplace[t]+5):this.workplace[t]<=53&&this.workplace[t]>49?this.workplace[t]<51?this.workplace[t]=this.workplace[t]+3:this.workplace[t]<=53&&(this.workplace[t]=this.workplace[t]+2):this.workplace[t]<=54&&(this.workplace[t]=this.workplace[t]+1);this.startPlace=this.workplace,this.levelupPlace=this.workplace,this.workplace.filter(o=>!this.right2right.includes(o))&&0==this.workplace.filter(o=>!this.left2right.includes(o)).length?(e=this.left2rightFunc(e,s),e=this.goingUpFunc(e,s)):this.startCorner=1}return e}}addEventListener("message",({data:c})=>{var e=new d(c[0],c[1]),s=new y(e.getLayers(),e.getBoardLength(),e.getLayersStart());e.setBoard(s.buildBoard()),console.log("board",e.getBoard());var t=e.solve(c[2],c[3],c[4]).getSolutions();console.log("worker solutions",t),postMessage(t)})})();