<html>

<script>
//n and matrix is a global var

function createArray(){
    for (var i = 0; i < n; i++) {
        matrix[i] = new Array(n);
    }
}

function fillArray(){
    //fill the matrix with 0s
    for (var i = 0; i < n; i++) {
        for (var j = 0; j < n; j++) {
            matrix[i][j] = 0;
        }
    }
}

function checkSolved(){
  //fill the matrix with 0s
  var counter = 0;
  for (var i = 0; i < n; i++) {
    for (var j = 0; j < n; j++) {
        if(matrix[i][j] == 1){
          counter += 1;
        }
        if(counter >= n){
          // solved!
          return true;
        }
    }
  }
  return false;
}

//for loop from 0 to n
function checkListY(y){
    for (var i = 0; i < n; i++) {
        if(matrix[i][y] == 1){
            return false;
        }
    }
    return true;
}

//a function to check if  ther is a 1 in a list in matrix
function checkListX(x) {
    return !matrix[x].includes(1);
   
   
}
function checkListDiagonals(x,y){
    if( checkDiagonal(x,y,true,true) &&
        checkDiagonal(x,y,true,false) &&
        checkDiagonal(x,y,false,true) &&
        checkDiagonal(x,y,false,false)){            
        return true;
    } else {
        return false;
    }
}
function checkDiagonal(x,y,xPositive,yPositive){
    while (x>=0 && y>=0 && x < n && y < n){
        if(matrix[x][y] == 1){
            return false;
        }
        if (xPositive) x++;
        else x--;
        if (yPositive) y++;
        else y--;
        
    }
    return true;
}

function check(x,y){
    if( checkListX(x) &&
      checkListY(y) && checkListDiagonals(x,y)){
        return true;
    } else {
        return false;
    }
}

function main(){
 while(!checkSolved()){
   for ( var y = 0; y < n; y++){
      var placed = [];
      var notPlaced = true;
      //console.log('y',y);
      while (notPlaced){
          var x = Math.floor(Math.random() * n); //0-1 * n as math.random gives a number between 0-1
          //console.log('x',x);
          //console.log('placed array',placed);
          if (!placed.includes(x)){
              if(check(x,y)){
                  //console.log('placed',x,y);
                  matrix[x][y] = 1;    
                  notPlaced = false;
              } else {
                  placed.push(x);
                  //console.log('placed array',placed);
              }
          } else if(placed.length >= n){
            notPlaced = false;
            //console.table(matrix);
          }
      }
   }
 }
}

// init
//accept user input for a variable called n
var n = 5;

// create a n x n matrix
var matrix = new Array(n);
createArray();
fillArray();
console.info('before');
console.table(matrix);
main();
console.info('after')
console.table(matrix);
</script>

<h1>


</h1>


</html>